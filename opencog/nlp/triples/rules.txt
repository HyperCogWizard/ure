;
; rules.txt
;
; An experimental set of copula/preposition-mangling rules. 
;
; The format of this file is supposed to be simialr to, if not identical
; to the "mapping_rules.txt" file used in the Relex framing code.
;
; Sentence: "The capital of Germany is Berlin"
; var0=capital, var1=Berlin var2=Germany
# IF _subj(be,$var0) ^ _obj(be,$var1)
      ^ $prep($var0,$var2)              ; preposition 
      ^ %LemmaLink($var0,$word0)        ; word of word instance
      ^ $phrase($word0, $prep)          ; convert to phrase
		^ %WordInstanceLink($var0,$sent)  ; $var0 and $var1 must be
		^ %WordInstanceLink($var1,$sent)  ; in the same sentence
      THEN ^3_$phrase($var2, $var1) 

; Sentence: "Lisbon is the capital of Portugaul"
; var0=Lisbon, var1=capital var2=Portugaul
# IF _subj(be,$var0) ^ _obj(be,$var1)   ; flipped over subj, obj
      ^ $prep($var1,$var2)              ; preposition 
      ^ %LemmaLink($var1,$word1)        ; word of word instance
      ^ $phrase($word1, $prep)          ; convert to phrase
		^ %WordInstanceLink($var0,$sent)  ; $var0 and $var1 must be
		^ %WordInstanceLink($var1,$sent)  ; in the same sentence
      THEN ^3_$phrase($var2, $var0) 

; Sentence: "The color of the sky is blue."
; var0=blue, var1=color, var2=sky  $prep=of
# IF _predadj($var0,$var1)
      ^ $prep($var1,$var2)              ; preposition 
      ^ %LemmaLink($var1,$word1)        ; word of word instance
      ^ $phrase($word1, $prep)          ; convert to phrase
      THEN ^3_$phrase($var2, $var0) 

; Sentence: "Pottery is made from clay."
; var0=make  var1=pottery var2=clay  prep=from
# IF _obj($var0,$var1)
      ^ $prep($var0,$var2)              ; preposition 
      ^ %LemmaLink($var0,$word0)        ; word of word instance
      ^ $phrase($word0, $prep)          ; convert to phrase
      THEN ^3_$phrase($var2, $var1) 

; Sentence: "Yarn is made of fibers."
; var1=yarn  var2=fibers  phinst=made_of
# IF _obj($phinst,$var1) ^ _iobj($phinst,$var2)
      ^ %LemmaLink($phinst,$phrase)     ; word of word instance
      THEN ^3_$phrase($var2, $var1) 


; Sentence: "The heart is in the chest." also, "The garage is behind the house"
; var1=heart  var2=chest phinst=in
# IF _psubj($phinst,$var1) ^ _pobj($phinst,$var2)
       ^ $prep(_%copula, $phinst)   ; xxx we should verify that prep and phinst match up.
      THEN ^3_$prep($var2, $var1) 

